<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KOF Agartha</title>
    <link rel="stylesheet" href="./css/common.css">
    <link rel="stylesheet" href="./css/mirror.css">
    <link rel="stylesheet" href="./css/index.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Solitreo&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/5.4.5/css/swiper.min.css">
<script src="./js/flexible.js"></script>
</head>
<body>
    <div class="container">
    <div class="bg1">
      <!-- <div class="shadow1"></div> -->
     <div class="title"></div>
     <div class="brand"><span style="font-family: math;">©</span><span>SNK CORPORATION ALL RIGHTS RESERVED.</span></div>
     <!-- <div class="kof"></div> -->
      <div class="buynow"></div>
      <div class="notice">
        <iframe width="100%" height="100%" src="https://www.youtube.com/embed/Pg4vXZWg9nQ?si=dqNEqVxzUMLcRSdh&amp;controls=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
      </div>
      <div class="link-wrapper">
        <div class="link">
          <div class="linkBox">
            <a href="https://t.me/KOF_Agartha"></a>
            <a href="https://discord.com/invite/invitekofagartha"></a>
            <a href="https://x.com/KOF_Agartha"></a>
          </div>
        </div>
      </div>
    </div>
    <div class="mask"></div>

    <div class="left_1"></div>
    <div class="right_1"></div>

    <div class="swiper mySwiper1 zoomable pcPopup">
      <div class="swiper-wrapper">
        <div class="swiper-slide"><img src="./images/area/popup1.svg"></div>
        <div class="swiper-slide"><img src="./images/area/popup2.svg"></div>
        <div class="swiper-slide"><img src="./images/area/popup3.svg"></div>
        <div class="swiper-slide"><img src="./images/area/popup4.svg"></div>
        <div class="swiper-slide"><img src="./images/area/popup5.svg"></div>
        <div class="swiper-slide"><img src="./images/area/popup6.svg"></div>
      </div>
    </div>

    <div class="swiper mySwiper2 zoomable mobile">
      <div class="swiper-wrapper">
        <div class="swiper-slide"><img src="./images/area/mobile1.svg"></div>
        <div class="swiper-slide"><img src="./images/area/mobile2.svg"></div>
        <div class="swiper-slide"><img src="./images/area/mobile3.svg"></div>
        <div class="swiper-slide"><img src="./images/area/mobile4.svg"></div>
        <div class="swiper-slide"><img src="./images/area/mobile5.svg"></div>
        <div class="swiper-slide"><img src="./images/area/mobile6.svg"></div>
      </div>
    </div>

    <div class="shade1">
      <!-- <div class="shadow2"></div> -->
      <!-- <div class="icon"></div> -->
      <div class="KofTitle">KOF：Agartha NFT</div>
      <div class="Textcontent">
        <p class="text">Unlock access to Agartha, the first Web 3 anime Isekai!</p>
         <ul class="tooltip" >
          <li>
            <p class="title">Land Distribution</p>
            <p class="content">All NFT holders will automatically receive land NFTs that generate resources helping you compete for the sacred treasure</p> 
          </li>
          <li>
            <p class="title">Token Distribution</p>
            <p class="content">Reserve your spot to earn a share of future tokens. Details coming soon!</p> 
            <!-- <p class="title">GRAND STRATEGY</p>
            <p class="content1">Build your land to produce and trade more resources, and become your greatest stronghold.</p> -->
          </li>
          <li>
            <p class="title">Exclusive drop</p>
            <p class="content">Form parties and explore the Isekai with friends. Visit the towns and interact with other players!</p> 
            <!-- <p class="title">SOCIAL</p>
            <p class="content1">Venture into Isekai, defeat enemies and win valuable treasures!</p> -->
          </li>
         </ul>

        
      </div>
    </div>
    <div class="bg2">
      <div class="textBox"></div>
      <div class="textBox2">Go on an adventure in Isekai, defeat enemies, explore with your friends, and collect sacred treasures!</div>
      <img style="z-index: 2;"  class="picture1"  src="./images/box3/cg1(enhanced).jpg">
      <img style="z-index: 2;"class="picture2" src="./images/box3/cg2.jpg">
      <img style="z-index: 2;"class="picture3" src="./images/box3/cg3.png">
      <!-- <div class="blackBox" style="position: absolute; width: 0.2rem;height: 0.1rem;background-color: black;opacity: 1;top: 2.93rem; left: 0.11rem;z-index: 3;"></div>
      <div class="blackBox" style="position: absolute; width: 0.2rem;height: 0.1rem;background-color: black;opacity: 1;top: 2.93rem; left: 1.73rem;z-index: 3;"></div>
      <div class="blackBox" style="position: absolute; width: 0.2rem;height: 0.1rem;background-color: black;opacity: 1;top: 2.93rem; left: 1.95rem;z-index: 3;"></div>
      <div class="blackBox" style="position: absolute; width: 0.2rem;height: 0.1rem;background-color: black;opacity: 1;top: 2.93rem; left: 3.55rem;z-index: 3;"></div>
      <div class="blackBox" style="position: absolute; width: 0.2rem;height: 0.1rem;background-color: black;opacity: 1;top: 2.93rem; left: 3.79rem;z-index: 3;"></div>
      <div class="blackBox" style="position: absolute; width: 0.2rem;height: 0.1rem;background-color: black;opacity: 1;top: 2.93rem; left: 5.38rem;z-index: 3;"></div> -->


      <div class="blackBox" id="black1"></div>
      <div class="blackBox" id="black2"></div>
      <div class="blackBox" id="black3"></div>
      <!-- <div class="shadow2"></div> -->
      <ul>
        <li style="z-index: 4;"><div class="text"><p class="hitBoxTitle">PVE/PVP</p> <p class="hitBoxText" >Venture into the Isekai, defeat enemies, and win valuable treasures!</p></div></li>
        <li style="z-index: 4;"><div class="text"><p class="hitBoxTitle">SOCIAL</p> <p class="hitBoxText">Join forces with friends to explore the Isekai. Visit towns and interact with other players!</p></div></li>
        <li style="z-index: 4;"><div class="text"><p class="hitBoxTitle">GRAND STRATEGY</p> <p class="hitBoxText" >Develop your land to produce and trade more resources, and become your greatest stronghold.</p></div></li>
      </ul>
      <!-- <div class="hitbox1"></div>
      <div class="hitbox2"></div>
      <div class="hitbox3"></div> -->
      <!-- <div class="shadow3"></div> -->

    </div>

    
    <div class="jadeContainer">
      <div class="jadeTitle">What is Agartha</div>
      <div class="mirrorTitle">Meet Some of the Heros</div>
      <!-- <div class="text"></div> -->
      <!-- <div class="line" style="top: 0;">
      </div> -->
      <!-- <div class="shadow4"></div> -->
            <div class="jade">
              <div class="text1"></div>
              <div class="text2"></div>
              <div class="text3"></div>
              <div class="text4"></div>
              <div class="text5"></div>
              <div class="text6"></div>
                <div class="area1"></div>
                <div class="area2"></div>
                <div class="area3"></div>
                <div class="area4"></div>
                <div class="area5"></div>
                <div class="area6"></div>
            </div>
            
            <!-- <div class="line">
            </div> -->
            <div class="mirrorContainer">
             
             <div class="mirror">
              <div class="content">
                <!-- <div class="avatar"></div>
                <div class="avatar"></div>
                <div class="avatar"></div>
                <div class="avatar"></div>
                <div class="avatar"></div>
                <div class="avatar"></div>
                <div class="avatar"></div>
                <div class="avatar"></div>
                <div class="avatar"></div>
                <div class="avatar"></div>
                <div class="avatar"></div>
                <div class="avatar"></div>
                <div class="avatar"></div>
                <div class="avatar"></div>
                <div class="avatar"></div>
                <div class="avatar"></div>
                <div class="avatar"></div>
                <div class="avatar"></div>
                <div class="avatar"></div>
                <div class="avatar"></div>
                <div class="avatar"></div>
                <div class="avatar"></div>
                <div class="avatar"></div>
                <div class="avatar"></div>
                <div class="avatar"></div>
                <div class="avatar"></div>
                <div class="avatar"></div>
                <div class="avatar"></div>
                <div class="avatar"></div>
                <div class="avatar"></div> -->
                <div id="roleBox">
                  <div class="image" id="image1"></div>
                  <div class="image hidden" id="image2"></div>
              </div>
              </div>
             </div>
             <div class="footer">
             <div class="link">
              <a href="./policy.html" target="_blank">Privacy Policy</a>
              <!-- <a href="#" target="_blank">Cookie Policy</a> -->
              <a href="./term.html" target="_blank">Terms</a>
             </div>
             <div class="kof"></div>
              <div class="brand"><span style="font-family: math;">©</span><span>SNK CORPORATION ALL RIGHTS RESERVED.</span>
              </div>
             </div>
         </div>
        </div>
       
          
        
   
    <script>
         const preloadImages = ['./images/area/area1.svg', './images/area/area2.svg', './images/area/area3.svg', './images/area/area4.svg','./images/area/area5.svg','./images/area/area6.svg','./images/area/default.svg','./images/box2/Black.webp','./images/box2/Blue.webp','./images/box4/text/Comming.png','./images/box4/text/Isekai.png'];

function preloadImage(src) {
  return new Promise((resolve, reject) => {
    const image = new Image();
    image.onload = () => resolve();
    image.onerror = () => reject();
    image.src = src;
  });
}

async function preloadAll() {
  try {
    await Promise.all(preloadImages.map(preloadImage));
    console.log('All images preloaded');
    // 在这里执行其他操作
  } catch (error) {
    console.error('Error preloading images:', error);
  }
}
function isPC() {
    const userAgent = navigator.userAgent;
    return !/(iPhone|iPod|iPad|Android)/i.test(userAgent);
  }
preloadAll();
var swiper1 = new Swiper(".mySwiper1", {
    speed: 1000,
    slidesPerView: document.documentElement.clientWidth<478 ? 1.15 : 1.5,
    spaceBetween: -10,
    centeredSlides: true,
  });
  var swiper2 = new Swiper(".mySwiper2", {
    speed: 1000,
    slidesPerView: document.documentElement.clientWidth<478 ? 1 : 1.5,
    spaceBetween: 0,
    centeredSlides: true,
  });
    // const areas = document.querySelectorAll('.area');
    const mask = document.querySelector('.mask');
    const pcPopup = document.querySelector('.pcPopup');
    const mobile = document.querySelector('.mobile');
    const left = document.querySelector('.left_1');
    const right = document.querySelector('.right_1');

    const area1=document.querySelector('.area1');
    const area2=document.querySelector('.area2');
    const area3=document.querySelector('.area3');
    const area4=document.querySelector('.area4');
    const area5=document.querySelector('.area5');
    const area6=document.querySelector('.area6');
    const text1=document.querySelector('.text1');
    const text2=document.querySelector('.text2');
    const text3=document.querySelector('.text3');
    const text4=document.querySelector('.text4');
    const text5=document.querySelector('.text5');
    const text6=document.querySelector('.text6');
    const backImage = document.querySelector('.jade');

mask.addEventListener('click', () => {
  mask.style.display = 'none';
  pcPopup.style.display = 'none';
  mobile.style.display = 'none';
  left.style.display = 'none';
  right.style.display = 'none';
});
area1.addEventListener('click', () => {
  mask.style.display = 'block';
  if(isPC()){
    pcPopup.style.display = 'block';
    left.style.display = 'block';
    right.style.display = 'block';
  }else{
    mobile.style.display = 'block';
  }
});
left.addEventListener('click', () => {
    swiper1.slidePrev();
  })

  right.addEventListener('click', () => {
    swiper1.slideNext();
  })



area1.addEventListener('mouseenter', async () => {
  area1.style.cursor = 'pointer';
  try {
    await preloadImage(preloadImages[0]);
    // text1.style.backgroundImage = `url(${preloadImages[9]}`;
    // text1.style.transition = 'background-image 0.1s ease-in-out';
    // text1.style.backgroundSize  = '90%';
    backImage.style.backgroundImage = `url(${preloadImages[0]})`;
    backImage.style.transition = 'background-image 0.3s ease-in-out';
  } catch (error) {
    console.error('Error preloading image:', error);
  }
});

area1.addEventListener('mouseleave', () => {
  area1.style.cursor = 'default';
  backImage.style.backgroundImage = `url(${preloadImages[6]})`;
  // text1.style.backgroundImage = `url(${preloadImages[10]}`;
  // text1.style.backgroundSize  = '70%';
  // text1.style.transition = 'background-image 0.1s ease-in-out';
});

area2.addEventListener('mouseenter', async () => {
  area2.style.cursor = 'pointer';
  try {
    await preloadImage(preloadImages[1]);
    // text2.style.backgroundImage = `url(${preloadImages[9]}`;
    // text2.style.transition = 'background-image 0.1s ease-in-out';
    // text2.style.backgroundSize  = '90%';
    backImage.style.backgroundImage = `url(${preloadImages[1]})`;
    backImage.style.transition = 'background-image 0.3s ease-in-out';
  } catch (error) {
    console.error('Error preloading image:', error);
  }
});

area2.addEventListener('mouseleave', () => {
  area2.style.cursor = 'default';
  // text2.style.backgroundImage = "url(./images/box4/text/kof.png)";
  //   text2.style.transition = 'background-image 0.1s ease-in-out';
  //   text2.style.backgroundSize  = '70%';
  backImage.style.backgroundImage = `url(${preloadImages[6]})`;
});

area3.addEventListener('mouseenter', async () => {
  area3.style.cursor = 'pointer';
  try {
    await preloadImage(preloadImages[2]);
    // text4.style.backgroundImage = `url(${preloadImages[9]}`;
    // text4.style.transition = 'background-image 0.1s ease-in-out';
    // text4.style.backgroundSize  = '50%';
    backImage.style.backgroundImage = `url(${preloadImages[2]})`;
    backImage.style.transition = 'background-image 0.7s ease-in-out';
  } catch (error) {
    console.error('Error preloading image:', error);
  }
});

area3.addEventListener('mouseleave', () => {
  // text4.style.backgroundImage = "url(./images/box4/text/Incubation.png)";
  //   text4.style.transition = 'background-image 0.1s ease-in-out';
  //   text4.style.backgroundSize  = '65%';
  area3.style.cursor = 'default';
  backImage.style.backgroundImage = `url(${preloadImages[6]})`;
});

area4.addEventListener('mouseenter', async () => {
  area4.style.cursor = 'pointer';
  try {
    await preloadImage(preloadImages[3]);
    // text3.style.backgroundImage = `url(${preloadImages[9]}`;
    // text3.style.transition = 'background-image 0.1s ease-in-out';
    // text3.style.backgroundSize  = '90%';
    backImage.style.backgroundImage = `url(${preloadImages[3]})`;
    backImage.style.transition = 'background-image 0.4s ease-in-out';
  } catch (error) {
    console.error('Error preloading image:', error);
  }
});

area4.addEventListener('mouseleave', () => {
  area4.style.cursor = 'default';
  // text3.style.backgroundImage = "url(./images/box4/text/land.png)";
  //   text3.style.transition = 'background-image 0.1s ease-in-out';
  //   text3.style.backgroundSize  = '100%';
  backImage.style.backgroundImage = `url(${preloadImages[6]})`;
});
area5.addEventListener('mouseenter', async () => {
  area5.style.cursor = 'pointer';
  try {
    await preloadImage(preloadImages[4]);
    // text6.style.backgroundImage = `url(${preloadImages[9]}`;
    // text6.style.transition = 'background-image 0.1s ease-in-out';
    // text6.style.backgroundSize  = '90%';
    backImage.style.backgroundImage = `url(${preloadImages[4]})`;
    backImage.style.transition = 'background-image 0.7s ease-in-out';
  } catch (error) {
    console.error('Error preloading image:', error);
  }
});

area5.addEventListener('mouseleave', () => {
  area5.style.cursor = 'default';
  // text6.style.backgroundImage = "url(./images/box4/text/WAR.png)";
  //   text6.style.transition = 'background-image 0.1s ease-in-out';
  //   text6.style.backgroundSize  = '90%';
  backImage.style.backgroundImage = `url(${preloadImages[6]})`;
});
area6.addEventListener('mouseenter', async () => {
  area6.style.cursor = 'pointer';
  try {
    await preloadImage(preloadImages[5]);
    // text5.style.backgroundImage = `url(${preloadImages[9]}`;
    // text5.style.transition = 'background-image 0.1s ease-in-out';
    // text5.style.backgroundSize  = '90%';
    backImage.style.backgroundImage = `url(${preloadImages[5]})`;
    backImage.style.transition = 'background-image 0.7s ease-in-out';
  } catch (error) {
    console.error('Error preloading image:', error);
  }
});

area6.addEventListener('mouseleave', () => {
  area6.style.cursor = 'default';
  // text5.style.backgroundImage = "url(./images/box4/text/Beast.png)";
  //   text5.style.transition = 'background-image 0.1s ease-in-out';
  //   text5.style.backgroundSize  = '100%';
  backImage.style.backgroundImage = `url(${preloadImages[6]})`;
});
const avatars = document.querySelectorAll('.avatar');
const roleBox = document.querySelector('.roleBox');
const role=document.querySelector('.role');
avatars.forEach((avatar, index) => {
  avatar.addEventListener('mouseenter', () => {
    roleBox.style.backgroundImage = `url('./images/character.png')`;
    roleBox.style.transition = 'background-image 1s ease-in-out, opacity 0.5s ease-in-out';
    roleBox.style.opacity = '1';

  });

  avatar.addEventListener('mouseleave', () => {
    roleBox.style.backgroundImage = `url('./images/mirror/roleBox.svg')`;
    roleBox.style.transition = 'background-image 1s ease-in-out, opacity 0.5s ease-in-out';
    roleBox.style.opacity = '0';

    // 在过渡动画结束后将 opacity 重置回 1
    setTimeout(() => {
      roleBox.style.opacity = '1';
    }, 500);
  });
});

const imgBox = [
            './images/rolebox/1.png',
            './images/rolebox/2.png',
            './images/rolebox/3.png',
            './images/rolebox/4.png',
        ];
        let currentIndex = 0;
    
        const image1 = document.getElementById('image1');
        const image2 = document.getElementById('image2');

        function preloadImage(src, callback) {
            const img = new Image();
            img.src = src;
            img.onload = callback; // 图片加载完成后调用回调
        }

        function changeBackground() {
            const nextIndex = (currentIndex + 1) % imgBox.length;

            // 预加载下一张图片
            preloadImage(imgBox[nextIndex], () => {
                // 切换图片
                const currentImage = currentIndex % 2 === 0 ? image1 : image2;
                const nextImage = currentIndex % 2 === 0 ? image2 : image1;

                nextImage.style.backgroundImage = `url(${imgBox[nextIndex]})`;
                nextImage.classList.remove('hidden'); // 显示下一张图片
                currentImage.classList.add('hidden'); // 隐藏当前图片

                // 更新当前索引
                currentIndex = nextIndex;
            });
        }

        // 初始化第一张图片
        image1.style.backgroundImage = `url(${imgBox[currentIndex]})`;

        // 启动轮播
        setInterval(changeBackground, 3000);


const bg1 = document.querySelector('.bg1');
const bg2 = document.querySelector('.bg2');
const shade1 = document.querySelector('.shade1');
const shade2 = document.querySelector('.shade2');
const jadeContainer = document.querySelector('.jadeContainer');

/**const observer = new IntersectionObserver(
  (entries) => {
    entries.forEach((entry) => {
      if (entry.target === bg1) {
        if (entry.isIntersecting) {
          // bg1出现在视窗时,shade1的背景色从#0C101B变成#1C1012
          shade1.style.backgroundImage = `url(${preloadImages[7]})`;
        } else {
          // bg1消失在视窗时,shade1的背景色从#1C1012变成#0C101B
          shade1.style.backgroundImage = `url(${preloadImages[8]})`;
        }
      }
      // if (entry.target === bg2) {
      //   if (entry.isIntersecting) {
      //     // bg2出现在视窗时,shade2的背景色从#070707变成#1C1E20
      //     shade2.style.backgroundColor = '#070707';
      //   } else {
      //     // bg2消失在视窗时,shade2的背景色从#1C1E20变成#070707
      //     shade2.style.backgroundColor = '#1C1E20';
      //   }
      // }
      // if (entry.target === jadeContainer) {
      //   // 不需要更新shade1和shade2的背景色
      //   if (entry.isIntersecting) {
      //     // jadeContainer出现在视窗时,shade2的背景色从#070707变成#1C1E20
      //     shade2.style.backgroundColor = '#1C1E20';
      //   } else {
      //     // bg2消失在视窗时,shade2的背景色从#1C1E20变成#070707
      //     shade2.style.backgroundColor = '#070707';
      //   }
      //}
    });
  },
  {
    threshold: 0.1,
  }
);

observer.observe(bg1);
observer.observe(bg2);
observer.observe(jadeContainer);
**/
const linkWrapper = document.querySelector('.bg1 .link-wrapper');
const link = document.querySelector('.bg1 .link');

let isHidden = false;

linkWrapper.addEventListener('click', () => {
  if (isHidden) {
    linkWrapper.classList.remove('hidden');
    link.style.transform = 'translateX(0)';
  } else {
    linkWrapper.classList.add('hidden');
    link.style.transform = 'translateX(85%)';
  }
  isHidden = !isHidden;
});
/*
const picture1=document.querySelector('.picture1');
const picture2=document.querySelector('.picture2');
const picture3=document.querySelector('.picture3');
picture1.addEventListener('mouseenter', async () => {
  picture1.style.cursor = 'pointer';
  picture1.src = `./images/box3/hit.png`;

  picture1.style.opacity = 1; 
});

picture1.addEventListener('mouseleave', () => {
  picture1.style.cursor = 'default';
  picture1.src = `./images/box3/stand.png`;

  picture1.style.opacity = 0.8; 
});
picture2.addEventListener('mouseenter', async () => {
  picture2.style.cursor = 'pointer';
  picture2.src = `./images/box3/hit.png`;

  picture2.style.opacity = 1; 
});

picture2.addEventListener('mouseleave', () => {
  picture2.style.cursor = 'default';
  picture2.src = `./images/box3/stand.png`;
  picture2.style.opacity = 0.8; 
});
picture3.addEventListener('mouseenter', async () => {
  picture3.style.cursor = 'pointer';
  picture3.src = `./images/box3/hit.png`;
  picture3.style.opacity = 1; 
});

picture3.addEventListener('mouseleave', () => {
  picture3.style.cursor = 'default';
  picture3.src = `./images/box3/stand.png`;
  picture3.style.opacity = 0.8; 
});*/

    </script>
</body>
</html>